import LiveSandbox from "./components/LiveSandbox.jsx";

# Lesson 2 – useState mit Text- und Zahleneingaben

Ein zentrales Prinzip bei React ist der **useState**.

HTML ist eine stateless Sprache. <br/>
Das bedeutet, dass **HTML keine Möglichkeit** bietet, **Werte zu speichern** oder zu verändern.<br/>
React bietet mit dem **useState Hook eine Möglichkeit, Werte zu speichern** und zu verändern.<br/>
Es gibt noch andere Möglichkeiten.

---

## Aufbau eines useState

Der useState Hook wird in einer Komponente verwendet.<br/>
Er wird am Anfang der Komponente deklariert und initialisiert.<br/>

```jsx
function Person() {
   const [myValue, setMyValue] = React.useState(10);
   ...
```

Der useState Hook besteht aus drei Teilen<br/>
- **myValue**: freiwählbarere Name, der für den aktuelle Wert des States steht.<br/>
- **setMyValue**: Funktion, mit der der Wert verändert werden kann. myValue<br/>
  Beachten Sie die Namensgebung! myValue --> setMyValue
- **React.useState(10)**: Initialisierung des States mit dem Wert 10.<br/>

---

## Werte aus Feldern speichern

In diesem Beispiel speichern wir den Namen aus einem input-Feld.

```jsx
function Person() {
    const [name, setName] = React.useState("");
    return (
        <>
            <input
              type="text"
              placeholder="Name"
              value={name}
              onChange={e => setName(e.target.value)}
            />
            <p>Hallo {name || "Unbekannt"} </p>
        </>
    );
}
```

### Interaktive Übung

Ergänzen Sie die Komponenten um useState Hook und input-Feld und geben Sie das Ergebnis in einem Absatz aus.

- für name
- für vorname<br/>

<LiveSandbox
    storageKey="02_useState_namefield"
    code={
`function Person() {

   return (
       <>

       </>
   );
}`
    }
/>

---
## UseState für Zahlenwerte

### Beispiel mit Ganzzahlen

Es soll das Alter einer Person in einem input-Feld gespeichert werden.

- **age**: UseState-Variable für das Alter. Beachten Sie die Initialisierung mit 0.<br/>
- **input type="number"**: Input-Feld für Zahlen.<br/>
- **inputMode="numeric"**: Virtuelle Tastatur auf mobilen Geräten zeigt Zahlen an.<br/>
- **onChange**: Der Wert aus dem Input-Feld ist immer ein String.<br/>
  Falls der Value leer ist: val === "", wird "" gespeichert. Beachten Sie die 3 === Zeichen!<br/>
  Mit **parseInt(val,10)** wird der String in eine Ganzzahl umgewandelt (Basis 10).

```jsx
const [age, setAge] = React.useState(0);
```

```jsx
<input
  type="number"
  inputMode="numeric"
  placeholder="Alter"
  value={age}
  onChange={e => {
    const val = e.target.value;
    setAge(val === "" ? "" : parseInt(val, 10));
  }}
/>
```
Das Ergebnis wird in einem Absatz angezeigt.<br/>
```jsx
<p>Du bist {age} Jahre alt.</p>
```

### Interaktive Übung

Ergänzen Sie die Sandbox oben um den useState Hook, das Input-Feld und die Ausgabe für das Alter.

<LiveSandbox
    storageKey="02_useState_agefield"
    code={
        `function Person() {

           return (
               <>

               </>
           );
        }`
    }
/>

### Beispiel mit Gleitkommazahlen

Es soll die Grösse einer Person in einem input-Feld gespeichert werden.

- **height**: UseState-Variable für die Grösse. Beachten Sie die Initialisierung mit "".<br/>
- **input type="number"**: Input-Feld für Zahlen.<br/>
- **inputMode="decimal"**: Virtuelle Tastatur auf mobilen Geräten zeigt Zahlen mit Dezimalpunkt an.<br/>
- **onChange**: Der Wert aus dem Input-Feld ist immer ein String.<br/>
  Falls der Value leer ist: val === "", wird "" gespeichert. Beachten Sie die 3 === Zeichen!<br/>
  Mit **parseFloat(e.target.value)** wird der String in eine Gleitkommazahl umgewandelt.

```jsx
const [height, setHeight] = React.useState("");
```

```jsx
<input
  type="number"
  step="0.01"
  inputMode="decimal"
  placeholder="Grösse in m"
  value={height}
  onChange={e => {
    const val = e.target.value;
    setHeight(val === "" ? "" : parseFloat(val));
  }}
/>
```
Das Ergebnis wird in einem Absatz angezeigt.<br/>
```jsx
<p>Du bist {height} Meter gross.</p>
```

### Interaktive Übung

Ergänzen Sie die Sandbox oben um den useState Hook, das Input-Feld und die Ausgabe für das Alter.

<LiveSandbox
    storageKey="02_useState_heightfield"
    code={
        `function Person() {
             return (
               <>

               </>
             );
         }`
    }
/>